manifestVersion: subsquid.io/v0.1
name: foucoco-squid
version: 7
description: 'Foucoco Squid'
build:
deploy:
    addons:
        postgres:
            config:
                statement_timeout: 60000
    processor:
        env:
            NETWORK: 'foucoco'
        cmd:
            - node
            - lib/processor
    api:
        cmd:
            - npx
            - squid-graphql-server
            - '--dumb-cache'
            - in-memory
            - '--dumb-cache-ttl'
            - '1000'
            - '--dumb-cache-size'
            - '100'
            - '--dumb-cache-max-age'
            - '1000'
            - '--subscriptions'
scale:
    dedicated: true
    addons:
        postgres:
            storage: 10G
            profile: small
    processor:
        profile: small
    api:
        profile: small
        replicas: 1
